"use strict";(self.webpackChunkguide_pycord_dev=self.webpackChunkguide_pycord_dev||[]).push([[2933],{5162:function(e,t,n){n.d(t,{Z:function(){return i}});var a=n(7294),o=n(4334),r={tabItem:"tabItem_Ymn6"};function i(e){var t=e.children,n=e.hidden,i=e.className;return a.createElement("div",{role:"tabpanel",className:(0,o.Z)(r.tabItem,i),hidden:n},t)}},4866:function(e,t,n){n.d(t,{Z:function(){return w}});var a=n(7462),o=n(7294),r=n(4334),i=n(2466),l=n(6775),s=n(1980),u=n(7392),d=n(12);function c(e){return function(e){var t,n;return null!=(t=null==(n=o.Children.map(e,(function(e){if(!e||(0,o.isValidElement)(e)&&(t=e.props)&&"object"==typeof t&&"value"in t)return e;var t;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:n.filter(Boolean))?t:[]}(e).map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes,default:t.default}}))}function p(e){var t=e.values,n=e.children;return(0,o.useMemo)((function(){var e=null!=t?t:c(n);return function(e){var t=(0,u.l)(e,(function(e,t){return e.value===t.value}));if(t.length>0)throw new Error('Docusaurus error: Duplicate values "'+t.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[t,n])}function m(e){var t=e.value;return e.tabValues.some((function(e){return e.value===t}))}function f(e){var t=e.queryString,n=void 0!==t&&t,a=e.groupId,r=(0,l.k6)(),i=function(e){var t=e.queryString,n=void 0!==t&&t,a=e.groupId;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=a?a:null}({queryString:n,groupId:a});return[(0,s._X)(i),(0,o.useCallback)((function(e){if(i){var t=new URLSearchParams(r.location.search);t.set(i,e),r.replace(Object.assign({},r.location,{search:t.toString()}))}}),[i,r])]}function h(e){var t,n,a,r,i=e.defaultValue,l=e.queryString,s=void 0!==l&&l,u=e.groupId,c=p(e),h=(0,o.useState)((function(){return function(e){var t,n=e.defaultValue,a=e.tabValues;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!m({value:n,tabValues:a}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+n+'" but none of its children has the corresponding value. Available values are: '+a.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return n}var o=null!=(t=a.find((function(e){return e.default})))?t:a[0];if(!o)throw new Error("Unexpected error: 0 tabValues");return o.value}({defaultValue:i,tabValues:c})})),b=h[0],v=h[1],g=f({queryString:s,groupId:u}),k=g[0],y=g[1],w=(t=function(e){return e?"docusaurus.tab."+e:null}({groupId:u}.groupId),n=(0,d.Nk)(t),a=n[0],r=n[1],[a,(0,o.useCallback)((function(e){t&&r.set(e)}),[t,r])]),N=w[0],I=w[1],C=function(){var e=null!=k?k:N;return m({value:e,tabValues:c})?e:null}();return(0,o.useLayoutEffect)((function(){C&&v(C)}),[C]),{selectedValue:b,selectValue:(0,o.useCallback)((function(e){if(!m({value:e,tabValues:c}))throw new Error("Can't select invalid tab value="+e);v(e),y(e),I(e)}),[y,I,c]),tabValues:c}}var b=n(2389),v={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function g(e){var t=e.className,n=e.block,l=e.selectedValue,s=e.selectValue,u=e.tabValues,d=[],c=(0,i.o5)().blockElementScrollPositionUntilNextRender,p=function(e){var t=e.currentTarget,n=d.indexOf(t),a=u[n].value;a!==l&&(c(t),s(a))},m=function(e){var t,n=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":var a,o=d.indexOf(e.currentTarget)+1;n=null!=(a=d[o])?a:d[0];break;case"ArrowLeft":var r,i=d.indexOf(e.currentTarget)-1;n=null!=(r=d[i])?r:d[d.length-1]}null==(t=n)||t.focus()};return o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":n},t)},u.map((function(e){var t=e.value,n=e.label,i=e.attributes;return o.createElement("li",(0,a.Z)({role:"tab",tabIndex:l===t?0:-1,"aria-selected":l===t,key:t,ref:function(e){return d.push(e)},onKeyDown:m,onClick:p},i,{className:(0,r.Z)("tabs__item",v.tabItem,null==i?void 0:i.className,{"tabs__item--active":l===t})}),null!=n?n:t)})))}function k(e){var t=e.lazy,n=e.children,a=e.selectedValue,r=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){var i=r.find((function(e){return e.props.value===a}));return i?(0,o.cloneElement)(i,{className:"margin-top--md"}):null}return o.createElement("div",{className:"margin-top--md"},r.map((function(e,t){return(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==a})})))}function y(e){var t=h(e);return o.createElement("div",{className:(0,r.Z)("tabs-container",v.tabList)},o.createElement(g,(0,a.Z)({},e,t)),o.createElement(k,(0,a.Z)({},e,t)))}function w(e){var t=(0,b.Z)();return o.createElement(y,(0,a.Z)({key:String(t)},e))}},8624:function(e,t,n){n.d(t,{v:function(){return r}});var a=n(7294),o=n(7674),r=Object.assign({},o.TW,{profiles:{bob:{author:"BobDotCom",avatar:"/img/bob.png",roleColor:"#2cd6f7"},robocord:{author:"Robocord",avatar:"/img/robocord.png",roleColor:"#9b59b6",bot:!0},dorukyum:{author:"Dorukyum",avatar:"/img/dorukyum.png",roleColor:"#2cd6f7"}}});t.Z=function(e){var t=e.options,n=void 0===t?r:t,i=e.children;return a.createElement(o.qs.Provider,{value:n},a.createElement(o.dZ,null,i))}},7878:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return d},default:function(){return b},frontMatter:function(){return u},metadata:function(){return c},toc:function(){return m}});var a=n(7462),o=n(3366),r=(n(7294),n(3905)),i=(n(7674),n(8624),n(4866)),l=n(5162),s=["components"],u={title:"Modal Dialogs",description:"Learn how you can implement Modals in your Discord Bot with Pycord!"},d=void 0,c={unversionedId:"interactions/ui-components/modal-dialogs",id:"interactions/ui-components/modal-dialogs",title:"Modal Dialogs",description:"Learn how you can implement Modals in your Discord Bot with Pycord!",source:"@site/docs/interactions/ui-components/modal-dialogs.mdx",sourceDirName:"interactions/ui-components",slug:"/interactions/ui-components/modal-dialogs",permalink:"/interactions/ui-components/modal-dialogs",draft:!1,editUrl:"https://github.com/Pycord-Development/guide/tree/main/docs/interactions/ui-components/modal-dialogs.mdx",tags:[],version:"current",lastUpdatedBy:"Lala Sabathil",lastUpdatedAt:1713441056,formattedLastUpdatedAt:"Apr 18, 2024",frontMatter:{title:"Modal Dialogs",description:"Learn how you can implement Modals in your Discord Bot with Pycord!"},sidebar:"defaultSidebar",previous:{title:"Select Menus",permalink:"/interactions/ui-components/dropdowns"},next:{title:"Extensions",permalink:"/category/extensions"}},p={},m=[{value:"Concept",id:"concept",level:2},{value:"Usage Syntax",id:"usage-syntax",level:2},{value:"Customization",id:"customization",level:2}],f={toc:m},h="wrapper";function b(e){var t=e.components,n=(0,o.Z)(e,s);return(0,r.kt)(h,(0,a.Z)({},f,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,'Modal Dialogs, also known as "modals", provide a form-like structure for bots to receive input from users. No extra permissions are needed for bots to send modal dialogs, so it becomes a convenient workaround for bots to receive longer input without needing the Message Content ',(0,r.kt)("a",{parentName:"p",href:"../../popular-topics/intents"},"intent"),". "),(0,r.kt)("h2",{id:"concept"},"Concept"),(0,r.kt)("p",null,"Modal Dialogs consist of a title, custom ID, and up to 5 ",(0,r.kt)("a",{parentName:"p",href:"https://docs.pycord.dev/en/stable/api/ui_kit.html#discord.ui.InputText"},(0,r.kt)("inlineCode",{parentName:"a"},"discord.ui.InputText"))," components. While creating modals, we generally subclass ",(0,r.kt)("a",{parentName:"p",href:"https://docs.pycord.dev/en/stable/api/ui_kit.html#discord.ui.Modal"},(0,r.kt)("inlineCode",{parentName:"a"},"discord.ui.Modal")),", as we'll see later."),(0,r.kt)("p",null,"Unlike other UI Components, Modals cannot be sent with messages. They must be invoked by an Application Command or another UI Component."),(0,r.kt)("h2",{id:"usage-syntax"},"Usage Syntax"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-py"},'class MyModal(discord.ui.Modal):\n    def __init__(self, *args, **kwargs) -> None:\n        super().__init__(*args, **kwargs)\n\n        self.add_item(discord.ui.InputText(label="Short Input"))\n        self.add_item(discord.ui.InputText(label="Long Input", style=discord.InputTextStyle.long))\n\n    async def callback(self, interaction: discord.Interaction):\n        embed = discord.Embed(title="Modal Results")\n        embed.add_field(name="Short Input", value=self.children[0].value)\n        embed.add_field(name="Long Input", value=self.children[1].value)\n        await interaction.response.send_message(embeds=[embed])\n')),(0,r.kt)(i.Z,{mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"application-commands",label:"Sending Modals through Application Commands",default:!0,mdxType:"TabItem"},(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"ctx")," parameter we define in Application Commands receives an ",(0,r.kt)("a",{parentName:"p",href:"https://docs.pycord.dev/en/stable/api/application_commands.html#discord.ApplicationContext"},(0,r.kt)("inlineCode",{parentName:"a"},"ApplicationContext"))," object. Using its ",(0,r.kt)("inlineCode",{parentName:"p"},"send_modal()")," coroutine, you can send a Modal dialog to the user invoking the Application Command."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-py"},'@bot.slash_command()\nasync def modal_slash(ctx: discord.ApplicationContext):\n    """Shows an example of a modal dialog being invoked from a slash command."""\n    modal = MyModal(title="Modal via Slash Command")\n    await ctx.send_modal(modal)\n'))),(0,r.kt)(l.Z,{value:"ui-components",label:"Sending Modals through UI Components",mdxType:"TabItem"},(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"interaction")," parameter we define in UI Components receives an ",(0,r.kt)("a",{parentName:"p",href:"https://docs.pycord.dev/en/stable/api/models.html#discord.Interaction"},(0,r.kt)("inlineCode",{parentName:"a"},"Interaction"))," object. The ",(0,r.kt)("inlineCode",{parentName:"p"},"response")," attribute of the object contains an ",(0,r.kt)("a",{parentName:"p",href:"https://docs.pycord.dev/en/stable/api/models.html#discord.InteractionResponse"},(0,r.kt)("inlineCode",{parentName:"a"},"InteractionResponse"))," object, with various coroutines such as ",(0,r.kt)("inlineCode",{parentName:"p"},"send_message()")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"send_modal()"),", which we utilize. "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-py"},'class MyView(discord.ui.View):\n    @discord.ui.button(label="Send Modal")\n    async def button_callback(self, button, interaction):\n        await interaction.response.send_modal(MyModal(title="Modal via Button"))\n\n@bot.slash_command()\nasync def send_modal(ctx):\n    await ctx.respond(view=MyView())\n')))),(0,r.kt)("p",null,"The above example uses an embed to display the results of the modal submission, but you can do anything you want with the text provided by the user.\nEach input field can be accessed in the order it was added to the modal dialog, via ",(0,r.kt)("inlineCode",{parentName:"p"},"Modal.children"),"."),(0,r.kt)("h2",{id:"customization"},"Customization"),(0,r.kt)("p",null,"A Modal can have up to 5 ",(0,r.kt)("a",{parentName:"p",href:"https://docs.pycord.dev/en/stable/api/ui_kit.html#discord.ui.InputText"},(0,r.kt)("inlineCode",{parentName:"a"},"InputText"))," fields. These fields offer some customization."),(0,r.kt)("p",null,"Each field has a label which is shown to the user. This is defined with ",(0,r.kt)("inlineCode",{parentName:"p"},"label"),"."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"style")," parameter is used to determine whether it should be a short (single-line) or long (multi-line) input field."),(0,r.kt)("p",null,"There are a number of aliases that can be used:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-x",metastring:'title="Single-line InputTextStyle values:"',title:'"Single-line',InputTextStyle:!0,'values:"':!0},"short\nsingleline\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-x",metastring:'title="Multi-line InputTextStyle values:"',title:'"Multi-line',InputTextStyle:!0,'values:"':!0},"paragraph = 2\nmultiline = 2\nlong = 2\n")),(0,r.kt)("admonition",{title:"Related Topics",type:"info"},(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"../application-commands/slash-commands"},"Slash Commands")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"./buttons"},"Buttons")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"../../interactions"},"Interactions Index")))))}b.isMDXComponent=!0}}]);